+++
title = "Ручная установка"
description = "Руководство по ручной установке драйверов NVIDIA"
weight = 1
+++

{{ doc_dates() }}

Ручная установка драйвера NVIDIA даёт больше контроля, но требует внимательности. Используйте этот метод, если автоматическая установка не подходит.

<div class="warning">
  <div class="title">Предупреждение</div>
  Этот способ предназначен для опытных пользователей. В большинстве случаев рекомендуется использовать <a href="../02-kroko-cli/">автоматическую установку</a>.
</div>

## 1. Подготовка

### Удаление старых драйверов

Если у вас были установлены другие драйверы NVIDIA, полностью удалите их:

```bash
sudo dnf remove *nvidia*
```

### Установка зависимостей

Для сборки модуля ядра необходимы заголовочные файлы ядра и утилиты для разработки:

```bash
sudo dnf install kernel-devel dkms make
```

`dkms` поможет автоматически пересобирать модуль драйвера при обновлении ядра.

## 2. Определение нужного драйвера

Определите вашу видеокарту:

```bash
lspci | grep -i vga
```

Зайдите на [официальный сайт NVIDIA](https://www.nvidia.com/Download/index.aspx) и найдите драйвер для вашей модели и для ОС Linux 64-bit.

## 3. Установка

### Отключение графического сервера

Установка должна производиться в текстовом режиме. Переключитесь в текстовую консоль, нажав `Ctrl+Alt+F3`, и залогиньтесь под своим пользователем.

Затем остановите графический сеанс:

```bash
sudo systemctl isolate multi-user.target
```

### Запуск установщика

Перейдите в папку, куда вы скачали драйвер, и запустите его:

```bash
# Сделайте файл исполняемым
chmod +x NVIDIA-Linux-*.run

# Запустите установщик
sudo ./NVIDIA-Linux-*.run
```

- **Register with DKMS?** — Ответьте `Yes`. Это позволит `dkms` автоматически пересобирать модуль.
- **Install 32-bit libraries?** — Ответьте `Yes`, если планируете запускать 32-битные приложения и игры (например, через Steam).
- **Update Xorg configuration?** — Ответьте `Yes`. Установщик попытается автоматически настроить `xorg.conf`.

### Возврат в графический режим

После успешной установки перезагрузите систему:

```bash
sudo reboot
```

## 4. Проверка

После перезагрузки выполните команду:

```bash
nvidia-smi
```

Если вы видите информацию о вашей видеокарте и версии драйвера — установка прошла успешно.

## Следующий шаг

- [Автоматическая установка (kroko-cli)](@/docs/02-daily-use/nvidia/02-kroko-cli.md)
