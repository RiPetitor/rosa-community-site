+++
title = "Сеть и интернет"
description = "Настройка сетевых подключений в ROSA Linux"
weight = 4
+++

{{ doc_dates() }}

ROSA Linux использует NetworkManager для управления сетевыми подключениями.

## Проводное подключение

Обычно настраивается автоматически. Подключите кабель — и сеть заработает.

### Ручная настройка IP

1. Откройте настройки сети (значок в трее или «Параметры системы»).
2. Выберите подключение → «Настроить».
3. Во вкладке IPv4 выберите «Вручную».
4. Укажите IP-адрес, маску, шлюз и DNS.

## Wi-Fi

### Подключение

1. Нажмите на значок сети в трее.
2. Выберите сеть из списка.
3. Введите пароль.

### Скрытая сеть

1. Откройте настройки сети.
2. «Добавить подключение» → Wi-Fi.
3. Введите SSID вручную.

## Поддержка нестандартных Wi-Fi адаптеров

ROSA Linux включает поддержку нестандартных Wi-Fi адаптеров «из коробки», благодаря включенным в систему необходимым драйверам и прошивке.

## Через терминал

### Статус сети

```bash
nmcli general status
```

### Список подключений

```bash
nmcli connection show
```

### Список Wi-Fi сетей

```bash
nmcli device wifi list
```

### Подключение к Wi-Fi

```bash
nmcli device wifi connect "Имя_сети" password "пароль"
```

### Отключение

```bash
nmcli connection down "Имя_подключения"
```

## VPN

### OpenVPN

```bash
sudo dnf install NetworkManager-openvpn NetworkManager-openvpn-gnome
```

Затем импортируйте конфигурацию через настройки сети.

### WireGuard

```bash
sudo dnf install wireguard-tools
```

Конфигурация размещается в `/etc/wireguard/`.

## Диагностика

### Проверка подключения

```bash
ping -c 4 ya.ru
```

### Информация об интерфейсах

```bash
ip addr
```

### DNS-запрос

```bash
nslookup ya.ru
```

### Маршруты

```bash
ip route
```

## Файрвол

Для управления доступом к сети в ядре Linux встроен механизм `iptables`.

### Просмотр текущих правил

```bash
sudo iptables -L -v
```

### Открытие порта

Эта команда открывает порт 8080 для входящих TCP-соединений.

```bash
sudo iptables -A INPUT -p tcp --dport 8080 -j ACCEPT
```

### Сохранение правил

Правила, добавленные в `iptables`, являются временными и сбрасываются при перезагрузке. Чтобы сделать их постоянными, их нужно сохранить. На RPM-based системах, как ROSA, это обычно делается так:

1.  **Установите сервисы `iptables`:**
    ```bash
    sudo dnf install iptables-services
    ```
2.  **Сохраните текущие правила:**
    ```bash
    sudo iptables-save | sudo tee /etc/sysconfig/iptables
    ```
3.  **Включите сервис, который будет загружать правила при старте:**
    ```bash
    sudo systemctl enable iptables
    ```

<div class="warning">
  <div class="title">Безопасность</div>
  Открывайте только необходимые порты. Некорректная настройка файрвола может сделать вашу систему уязвимой.
</div>

## Следующий шаг

- [Оборудование и драйверы](@/docs/02-daily-use/05-hardware.md)
