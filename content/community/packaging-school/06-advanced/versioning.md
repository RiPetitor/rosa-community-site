+++
title = "Версионирование и Epoch"
weight = 5
description = "Как rpm сравнивает версии и когда нужен Epoch."
+++

Версия RPM — это комбинация **Epoch:Version-Release**. Понимание правил сравнения важно для корректных обновлений.

## Основные правила

- `Epoch` имеет наивысший приоритет
- `Version` — версия upstream
- `Release` — версия упаковки

## Epoch — крайняя мера

Используйте `Epoch` только если upstream сделал «шаг назад» в версиях.

```spec
Epoch:          1
Version:        1.0
Release:        1%{?dist}
```

## Предрелизы и RC

Используйте тильду `~`, чтобы предрелиз считался ниже финала:

```spec
Version:        2.0~rc1
```

## Снапшоты

```spec
Version:        1.2
Release:        0.1.20260202git%{shortcommit}%{?dist}
```

`0.X` гарантирует, что снапшот меньше финального релиза.

## Частые ошибки

- Поднимать `Release` при смене `Version`
- Использовать `Epoch` без необходимости
- Неправильно оформлять pre-release
