{% extends "base.html" %}
{% import "macros/toc.html" as toc %}
{% import "macros/date.html" as date %}
{% block title %}{{ page.title }} ‚Äî {{ config.extra.site_name }}{% endblock %}
{% block description %}{{ page.description | default(value=page.summary | striptags | truncate(length=160)) }}{% endblock %}
{% block content %}
<div class="blog-post-layout">
    <div class="blog-post-main">
        <article class="blog-post">
            <header class="post-header">
                <nav class="blog-nav">
                    <a href="{{ get_url(path='@/blog/_index.md') }}" class="nav-btn">‚Üê –∫–æ –≤—Å–µ–º —Å—Ç–∞—Ç—å—è–º</a>
                </nav>

                {% if page.taxonomies.categories %}
                <div class="post-categories">
                    {% for cat in page.taxonomies.categories %}
                    <a href="{{ get_taxonomy_url(kind='categories', name=cat) }}" class="article-category">{{ cat }}</a>
                    {% endfor %}
                </div>
                {% endif %}

                <h1 class="post-title">{{ page.title }}</h1>

                <div class="post-meta">
                    <time datetime="{{ page.date | date(format='%Y-%m-%d') }}">
                        {{ date::format(date=page.date) }}
                    </time>
                    {% if page.extra.author %}
                    <span class="author">‚úí {{ page.extra.author }}</span>
                    {% endif %}
                    {% if page.reading_time %}
                    <span class="reading-time">üìñ {{ page.reading_time }} –º–∏–Ω. —á—Ç–µ–Ω–∏—è</span>
                    {% endif %}
                </div>
            </header>

            {{ toc::render_mobile(toc=page.toc) }}

            <div class="post-content docs-body">{{ page.content | safe }}</div>

            {% if page.taxonomies.tags %}
            <footer class="post-footer">
                <div class="post-tags">
                    <strong>–¢–µ–≥–∏:</strong>
                    {% for tag in page.taxonomies.tags %}
                    <a href="{{ get_taxonomy_url(kind='tags', name=tag) }}">#{{ tag }}</a>
                    {% endfor %}
                </div>
            </footer>
            {% endif %}

            <nav class="post-navigation">
                {% if page.earlier %}
                <a href="{{ page.earlier.permalink }}" class="nav-prev">
                    <span class="nav-label">‚Üê –ü—Ä–µ–¥—ã–¥—É—â–∞—è</span>
                    <span class="nav-title">{{ page.earlier.title }}</span>
                </a>
                {% endif %}
                {% if page.later %}
                <a href="{{ page.later.permalink }}" class="nav-next">
                    <span class="nav-label">–°–ª–µ–¥—É—é—â–∞—è ‚Üí</span>
                    <span class="nav-title">{{ page.later.title }}</span>
                </a>
                {% endif %}
            </nav>

            <div class="docs-edit">
                <a
                    href="{{ config.extra.repo_url }}/edit/{{ config.extra.repo_branch }}/content/{{ page.relative_path }}"
                    target="_blank"
                    rel="noopener"
                >
                    –í–Ω–µ—Å—Ç–∏ –ø—Ä–∞–≤–∫–∏
                </a>
            </div>
        </article>
    </div>
</div>
{% endblock %}
