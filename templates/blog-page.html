{% extends "base.html" %} {% import "macros/toc.html" as toc %} {% block title
%}{{ page.title }} ‚Äî {{ config.extra.site_name }}{% endblock %} {% block
description %}{{ page.description | default(value=page.summary | striptags |
truncate(length=160)) }}{% endblock %} {% block content %}
<div class="blog-post-layout">
    <div class="blog-post-main">
        {% set month_names = [ "", "—è–Ω–≤–∞—Ä—è", "—Ñ–µ–≤—Ä–∞–ª—è", "–º–∞—Ä—Ç–∞", "–∞–ø—Ä–µ–ª—è",
        "–º–∞—è", "–∏—é–Ω—è", "–∏—é–ª—è", "–∞–≤–≥—É—Å—Ç–∞", "—Å–µ–Ω—Ç—è–±—Ä—è", "–æ–∫—Ç—è–±—Ä—è", "–Ω–æ—è–±—Ä—è",
        "–¥–µ–∫–∞–±—Ä—è" ] %} {% set month_index = page.date | date(format="%m") | int
        %}
        <article class="blog-post">
            <header class="post-header">
                <nav class="blog-nav">
                    <a
                        href="{{ get_url(path='@/blog/_index.md') }}"
                        class="nav-btn"
                        >‚Üê –∫–æ –≤—Å–µ–º —Å—Ç–∞—Ç—å—è–º</a
                    >
                </nav>

                {% if page.taxonomies.categories %}
                <div class="post-categories">
                    {% for cat in page.taxonomies.categories %}
                    <a
                        href="{{ get_taxonomy_url(kind='categories', name=cat) }}"
                        class="article-category"
                        >{{ cat }}</a
                    >
                    {% endfor %}
                </div>
                {% endif %}

                <h1 class="post-title">{{ page.title }}</h1>

                <div class="post-meta">
                    <time datetime="{{ page.date | date(format='%Y-%m-%d') }}">
                        {{ page.date | date(format="%d") }} {{
                        month_names[month_index] }} {{ page.date |
                        date(format="%Y") }}
                    </time>
                    {% if page.extra.author %}
                    <span class="author">‚úí {{ page.extra.author }}</span>
                    {% endif %} {% if page.reading_time %}
                    <span class="reading-time"
                        >üìñ {{ page.reading_time }} –º–∏–Ω. —á—Ç–µ–Ω–∏—è</span
                    >
                    {% endif %}
                </div>
            </header>

            {{ toc::render_mobile(toc=page.toc) }}

            <div class="post-content docs-body">{{ page.content | safe }}</div>

            {% if page.taxonomies.tags %}
            <footer class="post-footer">
                <div class="post-tags">
                    <strong>–¢–µ–≥–∏:</strong>
                    {% for tag in page.taxonomies.tags %}
                    <a href="{{ get_taxonomy_url(kind='tags', name=tag) }}"
                        >#{{ tag }}</a
                    >
                    {% endfor %}
                </div>
            </footer>
            {% endif %}

            <nav class="post-navigation">
                {% if page.earlier %}
                <a href="{{ page.earlier.permalink }}" class="nav-prev">
                    <span class="nav-label">‚Üê –ü—Ä–µ–¥—ã–¥—É—â–∞—è</span>
                    <span class="nav-title">{{ page.earlier.title }}</span>
                </a>
                {% endif %} {% if page.later %}
                <a href="{{ page.later.permalink }}" class="nav-next">
                    <span class="nav-label">–°–ª–µ–¥—É—é—â–∞—è ‚Üí</span>
                    <span class="nav-title">{{ page.later.title }}</span>
                </a>
                {% endif %}
            </nav>

            <div class="docs-edit">
                <a
                    href="{{ config.extra.repo_url }}/edit/{{ config.extra.repo_branch }}/content/{{ page.relative_path }}"
                    target="_blank"
                    rel="noopener"
                >
                    –í–Ω–µ—Å—Ç–∏ –ø—Ä–∞–≤–∫–∏
                </a>
            </div>
        </article>

        {% if page.taxonomies.tags %}
        <section class="related-posts headline-section">
            <div class="section-header">
                <h2>‚òÖ –ü–æ—Ö–æ–∂–∏–µ —Å—Ç–∞—Ç—å–∏ ‚òÖ</h2>
            </div>

            <div class="column-layout three-column">
                {% set blog_section = get_section(path="blog/_index.md") %} {%
                set related_count = 0 %} {% for post in blog_section.pages %} {%
                if post.permalink != page.permalink and related_count < 3 %} {%
                set has_common_tag = false %} {% if post.taxonomies.tags %} {%
                for tag in post.taxonomies.tags %} {% if tag in
                page.taxonomies.tags %} {% set_global has_common_tag = true %}
                {% endif %} {% endfor %} {% endif %} {% if has_common_tag %} {%
                set_global related_count = related_count + 1 %}
                <article class="article">
                    <header class="article-header">
                        <h3 class="article-title">
                            <a href="{{ post.permalink }}">{{ post.title }}</a>
                        </h3>
                        <div class="article-meta">
                            <span class="date"
                                >{{ post.date | date(format="%d.%m.%Y") }}</span
                            >
                        </div>
                    </header>
                </article>
                {% endif %} {% endif %} {% endfor %}
            </div>
        </section>
        {% endif %}
    </div>

    {{ toc::render(toc=page.toc, class_name="blog-toc") }}
</div>
{% endblock %}
